{"version":3,"file":"application.js","sources":["../src/component/item.js","../src/component/task-list.js","../src/application.js"],"sourcesContent":["import './item.css';\n\nexport const Item = {\n    props: { position: { default: 0 }, text: { default: '' } },\n    template: `\n      <div class=\"taskmanager-list-item\">{{position}}. {{text}}</div>\n    `\n};\n","import { Item } from './item';\nimport './task-list.css';\n\nexport const TaskList = {\n\tcomponents: { Item },\n\tdata() {\n\t\treturn {\n\t\t\tlist: []\n\t\t}\n\t},\n\tmethods:\n\t{\n\t\taddNew() {\n\t\t\tconst result = prompt('Какую задачу вы планируете выполнить?');\n\t\t\tthis.list.push(result);\n\t\t},\n\t\tclose()\n\t\t{\n\t\t\tthis.$Bitrix.Application.get().detachTemplate();\n\t\t}\n\t},\n\ttemplate: `\n\t\t<div class=\"taskmanager-list\">\n\t\t\t<div class=\"taskmanager-list-title\">Список задач на сегодня</div>\n\t\t\t<template v-for=\"(value, index) in list\" :key=\"index\">\n\t\t\t\t<Item :position=\"index+1\" :text=\"value\"/>\n\t\t\t</template>\n\t\t\t<template v-if=\"list.length <= 0\">\n\t\t\t  \t<div class=\"taskmanager-list-empty\">На сегодня задач нет</div>\n\t\t\t</template>\n\t\t\t<div class=\"taskmanager-list-buttons\">\n\t\t\t\t<button @click=\"addNew\">Добавить задачу</button>\n\t\t\t\t<button @click=\"close\">Закрыть компонент</button>\n\t\t\t</div>\n\t\t</div>\n\t`\n};","import { BitrixVue } from 'ui.vue3';\nimport { Dom } from 'main.core';\n\nimport { TaskList } from './component/task-list';\n\nexport class TaskManager {\n    #application;\n\n    constructor(rootNode) {\n        this.rootNode = document.querySelector(rootNode);\n    }\n\n    start() {\n        const button = Dom.create('button', {\n            text: 'Открыть компонент',\n            events: {\n                click: () => this.attachTemplate()\n            }\n        });\n        Dom.append(button, this.rootNode);\n    }\n\n    attachTemplate() {\n        const context = this;\n\n        this.#application = BitrixVue.createApp({\n            name: 'TaskManager',\n            components: { TaskList },\n            beforeCreate() {\n                this.$bitrix.Application.set(context);\n            },\n            template: '<TaskList/>'\n        });\n        this.#application.mount(this.rootNode)\n    }\n\n    detachTemplate() {\n        if (this.#application) {\n            this.#application.unmount();\n        }\n        this.start();\n    }\n}\n"],"names":["Item","props","position","text","template","TaskList","components","data","list","methods","addNew","result","prompt","push","close","$Bitrix","Application","get","detachTemplate","TaskManager","rootNode","document","querySelector","button","Dom","create","events","click","attachTemplate","append","context","BitrixVue","createApp","name","beforeCreate","$bitrix","set","mount","unmount","start"],"mappings":";;;;CAEO,IAAMA,IAAI,GAAG;GAChBC,KAAK,EAAE;KAAEC,QAAQ,EAAE;OAAE,WAAS;MAAG;KAAEC,IAAI,EAAE;OAAE,WAAS;;IAAM;GAC1DC,QAAQ;CAGZ,CAAC;;CCJM,IAAMC,QAAQ,GAAG;GACvBC,UAAU,EAAE;KAAEN,IAAI,EAAJA;IAAM;GACpBO,IAAI,kBAAG;KACN,OAAO;OACNC,IAAI,EAAE;MACN;IACD;GACDC,OAAO,EACP;KACCC,MAAM,oBAAG;OACR,IAAMC,MAAM,GAAGC,MAAM,CAAC,uCAAuC,CAAC;OAC9D,IAAI,CAACJ,IAAI,CAACK,IAAI,CAACF,MAAM,CAAC;MACtB;KACDG,KAAK,mBACL;OACC,IAAI,CAACC,OAAO,CAACC,WAAW,CAACC,GAAG,EAAE,CAACC,cAAc,EAAE;;IAEhD;GACDd,QAAQ;CAeT,CAAC;;;;ACpCD,CAGiD;AAEjD,KAAae,WAAW;GAGpB,qBAAYC,QAAQ,EAAE;KAAA;KAAA;OAAA;OAAA;;KAClB,IAAI,CAACA,QAAQ,GAAGC,QAAQ,CAACC,aAAa,CAACF,QAAQ,CAAC;;GACnD;KAAA;KAAA,wBAEO;OAAA;OACJ,IAAMG,MAAM,GAAGC,aAAG,CAACC,MAAM,CAAC,QAAQ,EAAE;SAChCtB,IAAI,EAAE,mBAAmB;SACzBuB,MAAM,EAAE;WACJC,KAAK,EAAE;aAAA,OAAM,KAAI,CAACC,cAAc,EAAE;;;QAEzC,CAAC;OACFJ,aAAG,CAACK,MAAM,CAACN,MAAM,EAAE,IAAI,CAACH,QAAQ,CAAC;;;KACpC;KAAA,iCAEgB;OACb,IAAMU,OAAO,GAAG,IAAI;OAEpB,sCAAI,gBAAgBC,iBAAS,CAACC,SAAS,CAAC;SACpCC,IAAI,EAAE,aAAa;SACnB3B,UAAU,EAAE;WAAED,QAAQ,EAARA;UAAU;SACxB6B,YAAY,0BAAG;WACX,IAAI,CAACC,OAAO,CAACnB,WAAW,CAACoB,GAAG,CAACN,OAAO,CAAC;UACxC;SACD1B,QAAQ,EAAE;QACb,CAAC;OACF,sCAAI,gBAAciC,KAAK,CAAC,IAAI,CAACjB,QAAQ,CAAC;;;KACzC;KAAA,iCAEgB;OACb,sCAAI,IAAI,iBAAe;SACnB,sCAAI,gBAAckB,OAAO,EAAE;;OAE/B,IAAI,CAACC,KAAK,EAAE;;;GACf;CAAA;;;;;;;;"}